// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var initialized, progress, progressHandle, start;
    $('#status').text('Initializing');
    progress = function() {
      return $('#status').text(function(index, text) {
        return "" + text + ".";
      });
    };
    initialized = function() {
      var duration, end;
      clearInterval(progressHandle);
      end = new Date;
      duration = (end - start) / 1000;
      $('#status').text("Initialization done in " + duration + " seconds.");
      return $('#randomstate').css('visibility', 'visible');
    };
    $('#randomstate button').on('click', function() {
      $('#status').hide();
      return Cube.asyncScramble(function(alg) {
        var stripped, url;
        stripped = alg.replace(/\s+/g, '');
        url = "http://cube.crider.co.uk/visualcube.png?size=150&alg=" + stripped;
        return $('#randomstate .result').html("" + alg + "<br><img src=\"" + url + "\">");
      });
    });
    progressHandle = setInterval(progress, 1000);
    start = new Date;
    return Cube.asyncInit('/cubejs/demo/worker.js', initialized);
  });

}).call(this);
